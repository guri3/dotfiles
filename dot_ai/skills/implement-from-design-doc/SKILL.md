---
name: implement-from-design-doc
description: 設計書を読み取り、TDDの原則に従って実装を進める。設計書が提供されたとき、設計書に基づいた実装が必要なとき、または設計書からコードを生成する必要があるときに使用する。
---

# 設計書を元に実装を進める

## 概要

設計書を読み取り、テスト駆動開発（TDD）の原則に従って実装を進める。設計書の内容を正確に理解し、段階的に実装を行う。TDD実装、テスト品質チェック、コードレビューはそれぞれ専門のサブエージェントに移譲して実行する。

## 実装プロセス

### 1. 設計書の読み取りと理解

1. **設計書の全体構造を把握**
   - 設計書のファイルを読み取る
   - 主要なセクション（要件、機能仕様、API仕様、データモデルなど）を特定
   - 依存関係や実装順序を理解する

2. **不明点の確認**
   - 設計書に不明確な点がある場合は、ユーザーに確認する
   - 実装に必要な情報が不足している場合は、設計書の該当箇所を指摘する

### 2. 実装計画の策定

1. **実装の優先順位を決定**
   - 設計書の実装計画セクションを確認する
   - 依存関係を考慮して実装順序を決定
   - 小さな単位に分割して段階的に実装

2. **実装範囲の明確化**
   - 今回の実装で対応する機能を明確にする
   - 後回しにする機能があれば明示する

### 3. TDDによる実装

**サブエージェント**: `tdd-implementer`

設計書に基づいて、`tdd-implementer`サブエージェントを呼び出してTDDサイクルで実装を進める。

**実行方法**: 
- `tdd-implementer`サブエージェントを呼び出す
- 設計書の内容をサブエージェントに伝える
- サブエージェントがTDDサイクル（テスト作成→テスト実行→実装→リファクタリング）を実行する

### 4. テスト品質チェック

**サブエージェント**: `test-quality-checker`

実装が完了したら、テストの品質をチェックする。

**実行タイミング**: 
- テストコードが作成された後
- 実装が完了した後

**実行方法**: 
- `test-quality-checker`サブエージェントを呼び出す
- テストファイルと実装コードをサブエージェントに渡す
- サブエージェントがテストの品質をレビューする
- 指摘事項があれば修正する

### 5. コードレビュー

**サブエージェント**: `code-reviewer`

実装コードの品質をレビューする。

**実行タイミング**: 
- 実装が完了した後
- テスト品質チェックが完了した後

**実行方法**: 
- `code-reviewer`サブエージェントを呼び出す
- 変更されたファイルをサブエージェントに渡す
- サブエージェントがコードの品質を厳格にレビューする
- 重大な問題があれば修正する

### 6. 実装の完了と確認

1. **実装範囲の確認**
   - 計画した実装が完了したか確認
   - 未実装の機能があれば明示する

2. **設計書との最終確認**
   - 実装が設計書の要件をすべて満たしているか確認
   - 設計書に記載されていない追加実装があれば説明する

## 重要な原則

### サブエージェントへの移譲

- **TDD実装**: `tdd-implementer`サブエージェントに移譲する
- **テスト品質チェック**: `test-quality-checker`サブエージェントに移譲する
- **コードレビュー**: `code-reviewer`サブエージェントに移譲する
- 各サブエージェントの専門性を活用し、重複を避ける

### 設計書の尊重

- **設計書を正確に実装**: 設計書に記載されていない機能を勝手に追加しない
- **不明点は確認**: 設計書が不明確な場合は推測せず、ユーザーに確認する
- **設計書との整合性**: 実装が設計書の仕様を満たしているか常に確認する

### 実装の品質

- **段階的な実装**: 一度にすべてを実装せず、小さな単位で進める
- **テストの充実**: 設計書の仕様を網羅的にテストする
- **コードの可読性**: 設計書の意図がコードから読み取れるようにする
- **品質チェックの徹底**: テスト品質チェックとコードレビューを必ず実施する

## 実装時の注意事項

### サブエージェントの活用

- TDD実装の詳細は`tdd-implementer`サブエージェントに委譲する
- テスト品質チェックの詳細は`test-quality-checker`サブエージェントに委譲する
- コードレビューの詳細は`code-reviewer`サブエージェントに委譲する
- 各サブエージェントの専門性を最大限に活用する

### 設計書の解釈

- 設計書に詳細すぎる実装コードが含まれていない場合、実装の詳細は`tdd-implementer`サブエージェントに判断を委譲する
- 設計書に記載されていない技術的な詳細（エラーメッセージの形式など）は、プロジェクトの既存パターンに従う

### 品質チェックの徹底

- テスト品質チェックとコードレビューを必ず実施する
- 指摘事項は必ず修正する
- 重大な問題がある場合は、修正が完了するまで次のステップに進まない

## 実行例

### 例: 設計書に基づく実装の実行フロー

1. **設計書の読み取り**
   - `detailed-design.md`を読み取る
   - 実装計画セクションを確認する

2. **実装計画の策定**
   - 実装の優先順位と順序を決定する
   - 実装範囲を明確にする

3. **TDD実装**
   - `tdd-implementer`サブエージェントを呼び出す
   - 設計書の内容をサブエージェントに伝える
   - サブエージェントがTDDサイクルで実装を進める

4. **テスト品質チェック**
   - `test-quality-checker`サブエージェントを呼び出す
   - テストファイルと実装コードをサブエージェントに渡す
   - 指摘事項があれば修正する

5. **コードレビュー**
   - `code-reviewer`サブエージェントを呼び出す
   - 変更されたファイルをサブエージェントに渡す
   - 重大な問題があれば修正する

6. **完了確認**
   - 実装が設計書の要件を満たしているか確認する
   - すべてのテストが通過することを確認する
