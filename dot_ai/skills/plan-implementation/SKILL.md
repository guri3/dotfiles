---
name: plan-implementation
description: 実装計画を立てるためのスキル。事前調査、仕様書作成、詳細設計書作成の3つのステップを順次実行する。実装前の計画段階で使用する。各ステップはサブエージェントに移譲して実行する。
---

# 実装計画を立てる

## 概要

実装計画を立てるためのスキルである。事前調査、仕様書作成、詳細設計書作成の3つのステップを順次実行し、実装に必要な計画ドキュメントを生成する。

## 出力先ディレクトリ

すべての出力ファイルは`.guri3/plan/<プロジェクト名>/`ディレクトリに生成される。

- プロジェクト名はデフォルトで`01_hoge`を使用するが、ユーザーが指定した場合はその値を使用する
- 出力先ディレクトリが存在しない場合は、自動的に作成する

## ワークフロー

実装計画は以下の3つのステップで構成される。各ステップは独立したサブエージェントに移譲して実行する。

### ステップ1: 事前調査

**目的**: 実装に必要な情報を収集し、技術的な制約や前提条件を明確にする。

**サブエージェント**: `preliminary-research`

**実行方法**: `preliminary-research`サブエージェントを呼び出して実行する。サブエージェントは要件の理解、技術調査、リスクの洗い出し、調査結果のまとめを実行する。

**出力**: `.guri3/plan/<プロジェクト名>/01_preliminary-research.md`

### ステップ2: 仕様書作成

**目的**: 事前調査の結果を基に、機能の仕様を明確に定義する。

**サブエージェント**: `specification`

**前提条件**: `.guri3/plan/<プロジェクト名>/01_preliminary-research.md`が存在すること

**実行方法**: `specification`サブエージェントを呼び出して実行する。サブエージェントは事前調査の確認、機能仕様の定義、非機能要件の定義、仕様書の作成を実行する。サブエージェントには出力先ディレクトリパスを明示的に伝える。

**出力**: `.guri3/plan/<プロジェクト名>/02_specification.md`

### ステップ3: 詳細設計書作成

**目的**: 仕様書を基に、実装の詳細を設計する。

**サブエージェント**: `detailed-design`

**前提条件**: `.guri3/plan/<プロジェクト名>/02_specification.md`が存在すること

**実行方法**: `detailed-design`サブエージェントを呼び出して実行する。サブエージェントは仕様書の確認、アーキテクチャの設計、詳細設計、実装計画の策定、詳細設計書の作成を実行する。サブエージェントには出力先ディレクトリパスを明示的に伝える。

**出力**: `.guri3/plan/<プロジェクト名>/03_detailed-design.md`

## 実行手順

各ステップは独立したサブエージェントに移譲して実行する。以下の手順に従う。

### 事前準備

1. **プロジェクト名の決定**: ユーザーが指定した場合はその値を使用し、指定がない場合は`01_hoge`をデフォルト値として使用する
2. **出力先ディレクトリの作成**: `.guri3/plan/<プロジェクト名>/`ディレクトリが存在しない場合は作成する

### ステップ1の実行: 事前調査のサブエージェントを呼び出す

- 出力先パスを`.guri3/plan/<プロジェクト名>/01_preliminary-research.md`として決定する
- `preliminary-research`サブエージェントを呼び出し、出力先パスを明示的に伝える
- サブエージェントが `.guri3/plan/<プロジェクト名>/01_preliminary-research.md` を生成するまで待つ
- 生成されたファイルの存在を確認する

### ステップ2の実行: 仕様書作成のサブエージェントを呼び出す

- `.guri3/plan/<プロジェクト名>/01_preliminary-research.md` が存在することを確認する
- 出力先パスを`.guri3/plan/<プロジェクト名>/02_specification.md`として決定する
- `specification`サブエージェントを呼び出し、出力先パスを明示的に伝える
- サブエージェントが `.guri3/plan/<プロジェクト名>/02_specification.md` を生成するまで待つ
- 生成されたファイルの存在を確認する

### ステップ3の実行: 詳細設計書作成のサブエージェントを呼び出す

- `.guri3/plan/<プロジェクト名>/02_specification.md` が存在することを確認する
- 出力先パスを`.guri3/plan/<プロジェクト名>/03_detailed-design.md`として決定する
- `detailed-design`サブエージェントを呼び出し、出力先パスを明示的に伝える
- サブエージェントが `.guri3/plan/<プロジェクト名>/03_detailed-design.md` を生成するまで待つ
- 生成されたファイルの存在を確認する

### 完了確認

3つのドキュメントがすべて生成されていることを確認する
- `.guri3/plan/<プロジェクト名>/01_preliminary-research.md` の存在を確認
- `.guri3/plan/<プロジェクト名>/02_specification.md` の存在を確認
- `.guri3/plan/<プロジェクト名>/03_detailed-design.md` の存在を確認

## 重要な原則

### 段階的な実行

- 各ステップは順次実行する
- 前のステップの出力を次のステップの入力として使用する
- 前のステップが完了してから次のステップに進む

### サブエージェントへの移譲

- 各ステップは独立したサブエージェントに移譲する
- サブエージェントには明確な指示を渡す
- サブエージェントの出力を確認してから次のステップに進む

### ドキュメントの品質

- 各ドキュメントは次のステップで使用できる形式で記述する
- AGENTS.mdのドキュメント哲学に従う
- ファイル末尾に改行を含める

## 出力ファイル

すべての出力ファイルは`.guri3/plan/<プロジェクト名>/`ディレクトリに生成される。

- `.guri3/plan/<プロジェクト名>/01_preliminary-research.md`: 事前調査の結果
- `.guri3/plan/<プロジェクト名>/02_specification.md`: 機能仕様書
- `.guri3/plan/<プロジェクト名>/03_detailed-design.md`: 詳細設計書
